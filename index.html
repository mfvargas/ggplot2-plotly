<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Graficación en ggplot2 y plotly</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="index_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="index_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="index_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="index_files/libs/datatables-binding-0.33/datatables.js"></script>

<script src="index_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="index_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="index_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="index_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<link href="index_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="index_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>



</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#carga-de-bibliotecas" id="toc-carga-de-bibliotecas" class="nav-link active" data-scroll-target="#carga-de-bibliotecas">Carga de bibliotecas</a></li>
  <li><a href="#carga-de-datos" id="toc-carga-de-datos" class="nav-link" data-scroll-target="#carga-de-datos">Carga de datos</a>
  <ul class="collapse">
  <li><a href="#gráficos-con-ggplot2" id="toc-gráficos-con-ggplot2" class="nav-link" data-scroll-target="#gráficos-con-ggplot2">Gráficos con ggplot2</a>
  <ul class="collapse">
  <li><a href="#gráficos-básicos" id="toc-gráficos-básicos" class="nav-link" data-scroll-target="#gráficos-básicos">Gráficos básicos</a></li>
  </ul></li>
  <li><a href="#facets" id="toc-facets" class="nav-link" data-scroll-target="#facets">Facets</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Graficación en ggplot2 y plotly</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="carga-de-bibliotecas" class="level1">
<h1>Carga de bibliotecas</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="carga-de-datos" class="level1">
<h1>Carga de datos</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de los datos de países</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>paises <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"https://raw.githubusercontent.com/pf0953-programacionr/2024-ii/refs/heads/main/datos/natural-earth/paises-join-esperanzavida.csv"</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(NAME) <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">pageLenght =</span> <span class="dv">10</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">language =</span> <span class="fu">list</span>(<span class="at">url =</span> <span class="st">'//cdn.datatables.net/plug-ins/1.10.11/i18n/Spanish.json'</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-569871ee941b7460abdb" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-569871ee941b7460abdb">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201"],["AFG","ALB","DZA","AND","AGO","ATA","ATG","ARG","ARM","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BTN","BOL","BIH","BWA","BRA","BRN","BGR","BFA","BDI","CPV","KHM","CMR","CAN","CAF","TCD","CHL","CHN","COL","COM","COG","CRI","HRV","CUB","CYP","CYP","CZE","CIV","COD","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FJI","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GRD","GTM","GIN","GNB","GUY","HTI","HND","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","JAM","JPN","JOR","KAZ","KEN","KIR","SRB","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MRT","MUS","MEX","FSM","MDA","MCO","MNG","MNE","MAR","MOZ","MMR","CYP","NAM","NRU","NPL","NLD","NZL","NIC","NER","NGA","PRK","MKD","NOR","OMN","PAK","PLW","PAN","PN1","PRY","PER","PHL","POL","PR1","QAT","ROU","RUS","RWA","SSD","LCA","WSM","SMR","SAU","SEN","SRB","SYC","SLE","SGP","SVK","SVN","SLB","SOM","SOM","ZAF","KOR","ESP","LKA","KNA","VCT","SDZ","SUR","SWE","CHE","SYR","STP","TWN","TJK","TZA","THA","TLS","TGO","TON","TTO","TUN","TUR","TKM","TUV","UGA","UKR","ARE","GBR","USA","URY","UZB","VUT","VAT","VEN","VNM","B28","YEM","ZMB","ZWE","SWZ"],["Afghanistan","Albania","Algeria","Andorra","Angola","Antarctica","Antigua and Barb.","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herz.","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Rep.","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Cyprus U.N. Buffer Zone","Czechia","Côte d'Ivoire","Dem. Rep. Congo","Denmark","Djibouti","Dominica","Dominican Rep.","Ecuador","Egypt","El Salvador","Eq. Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Is.","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","N. Cyprus","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","S. Sudan","Saint Lucia","Samoa","San Marino","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Is.","Somalia","Somaliland","South Africa","South Korea","Spain","Sri Lanka","St. Kitts and Nevis","St. Vin. and Gren.","Sudan","Suriname","Sweden","Switzerland","Syria","São Tomé and Principe","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States of America","Uruguay","Uzbekistan","Vanuatu","Vatican","Venezuela","Vietnam","W. Sahara","Yemen","Zambia","Zimbabwe","eSwatini"],["Asia","Europe","Africa","Europe","Africa","Antarctica","North America","South America","Asia","Oceania","Europe","Asia","North America","Asia","Asia","North America","Europe","Europe","North America","Africa","Asia","South America","Europe","Africa","South America","Asia","Europe","Africa","Africa","Africa","Asia","Africa","North America","Africa","Africa","South America","Asia","South America","Africa","Africa","North America","Europe","North America","Asia","Asia","Europe","Africa","Africa","Europe","Africa","North America","North America","South America","Africa","North America","Africa","Africa","Europe","Africa","Oceania","Europe","Europe","Africa","Africa","Asia","Europe","Africa","Europe","North America","North America","Africa","Africa","South America","North America","North America","Europe","Europe","Asia","Asia","Asia","Asia","Europe","Asia","Europe","North America","Asia","Asia","Asia","Africa","Oceania","Europe","Asia","Asia","Asia","Europe","Asia","Africa","Africa","Africa","Europe","Europe","Europe","Africa","Africa","Asia","Seven seas (open ocean)","Africa","Europe","Oceania","Africa","Seven seas (open ocean)","North America","Oceania","Europe","Europe","Asia","Europe","Africa","Africa","Asia","Asia","Africa","Oceania","Asia","Europe","Oceania","North America","Africa","Africa","Asia","Europe","Europe","Asia","Asia","Oceania","North America","Oceania","South America","South America","Asia","Europe","Europe","Asia","Europe","Europe","Africa","Africa","North America","Oceania","Europe","Asia","Africa","Europe","Seven seas (open ocean)","Africa","Asia","Europe","Europe","Oceania","Africa","Africa","Africa","Asia","Europe","Asia","North America","North America","Africa","South America","Europe","Europe","Asia","Africa","Asia","Asia","Africa","Asia","Asia","Africa","Oceania","North America","Africa","Asia","Asia","Oceania","Africa","Europe","Asia","Europe","North America","South America","Asia","Oceania","Europe","South America","Asia","Africa","Asia","Africa","Africa","Africa"],["Asia","Europe","Africa","Europe","Africa","Antarctica","Americas","Americas","Asia","Oceania","Europe","Asia","Americas","Asia","Asia","Americas","Europe","Europe","Americas","Africa","Asia","Americas","Europe","Africa","Americas","Asia","Europe","Africa","Africa","Africa","Asia","Africa","Americas","Africa","Africa","Americas","Asia","Americas","Africa","Africa","Americas","Europe","Americas","Asia","Asia","Europe","Africa","Africa","Europe","Africa","Americas","Americas","Americas","Africa","Americas","Africa","Africa","Europe","Africa","Oceania","Europe","Europe","Africa","Africa","Asia","Europe","Africa","Europe","Americas","Americas","Africa","Africa","Americas","Americas","Americas","Europe","Europe","Asia","Asia","Asia","Asia","Europe","Asia","Europe","Americas","Asia","Asia","Asia","Africa","Oceania","Europe","Asia","Asia","Asia","Europe","Asia","Africa","Africa","Africa","Europe","Europe","Europe","Africa","Africa","Asia","Asia","Africa","Europe","Oceania","Africa","Africa","Americas","Oceania","Europe","Europe","Asia","Europe","Africa","Africa","Asia","Asia","Africa","Oceania","Asia","Europe","Oceania","Americas","Africa","Africa","Asia","Europe","Europe","Asia","Asia","Oceania","Americas","Oceania","Americas","Americas","Asia","Europe","Europe","Asia","Europe","Europe","Africa","Africa","Americas","Oceania","Europe","Asia","Africa","Europe","Africa","Africa","Asia","Europe","Europe","Oceania","Africa","Africa","Africa","Asia","Europe","Asia","Americas","Americas","Africa","Americas","Europe","Europe","Asia","Africa","Asia","Asia","Africa","Asia","Asia","Africa","Oceania","Americas","Africa","Asia","Asia","Oceania","Africa","Europe","Asia","Europe","Americas","Americas","Asia","Oceania","Europe","Americas","Asia","Africa","Asia","Africa","Africa","Africa"],["Southern Asia","Southern Europe","Northern Africa","Southern Europe","Middle Africa","Antarctica","Caribbean","South America","Western Asia","Australia and New Zealand","Western Europe","Western Asia","Caribbean","Western Asia","Southern Asia","Caribbean","Eastern Europe","Western Europe","Central America","Western Africa","Southern Asia","South America","Southern Europe","Southern Africa","South America","South-Eastern Asia","Eastern Europe","Western Africa","Eastern Africa","Western Africa","South-Eastern Asia","Middle Africa","Northern America","Middle Africa","Middle Africa","South America","Eastern Asia","South America","Eastern Africa","Middle Africa","Central America","Southern Europe","Caribbean","Western Asia","Western Asia","Eastern Europe","Western Africa","Middle Africa","Northern Europe","Eastern Africa","Caribbean","Caribbean","South America","Northern Africa","Central America","Middle Africa","Eastern Africa","Northern Europe","Eastern Africa","Melanesia","Northern Europe","Western Europe","Middle Africa","Western Africa","Western Asia","Western Europe","Western Africa","Southern Europe","Caribbean","Central America","Western Africa","Western Africa","South America","Caribbean","Central America","Eastern Europe","Northern Europe","Southern Asia","South-Eastern Asia","Southern Asia","Western Asia","Northern Europe","Western Asia","Southern Europe","Caribbean","Eastern Asia","Western Asia","Central Asia","Eastern Africa","Micronesia","Southern Europe","Western Asia","Central Asia","South-Eastern Asia","Northern Europe","Western Asia","Southern Africa","Western Africa","Northern Africa","Western Europe","Northern Europe","Western Europe","Eastern Africa","Eastern Africa","South-Eastern Asia","Southern Asia","Western Africa","Southern Europe","Micronesia","Western Africa","Eastern Africa","Central America","Micronesia","Eastern Europe","Western Europe","Eastern Asia","Southern Europe","Northern Africa","Eastern Africa","South-Eastern Asia","Western Asia","Southern Africa","Micronesia","Southern Asia","Western Europe","Australia and New Zealand","Central America","Western Africa","Western Africa","Eastern Asia","Southern Europe","Northern Europe","Western Asia","Southern Asia","Micronesia","Central America","Melanesia","South America","South America","South-Eastern Asia","Eastern Europe","Southern Europe","Western Asia","Eastern Europe","Eastern Europe","Eastern Africa","Eastern Africa","Caribbean","Polynesia","Southern Europe","Western Asia","Western Africa","Southern Europe","Eastern Africa","Western Africa","South-Eastern Asia","Eastern Europe","Southern Europe","Melanesia","Eastern Africa","Eastern Africa","Southern Africa","Eastern Asia","Southern Europe","Southern Asia","Caribbean","Caribbean","Northern Africa","South America","Northern Europe","Western Europe","Western Asia","Middle Africa","Eastern Asia","Central Asia","Eastern Africa","South-Eastern Asia","South-Eastern Asia","Western Africa","Polynesia","Caribbean","Northern Africa","Western Asia","Central Asia","Polynesia","Eastern Africa","Eastern Europe","Western Asia","Northern Europe","Northern America","South America","Central Asia","Melanesia","Southern Europe","South America","South-Eastern Asia","Northern Africa","Western Asia","Eastern Africa","Eastern Africa","Southern Africa"],["South Asia","Europe &amp; Central Asia","Middle East &amp; North Africa","Europe &amp; Central Asia","Sub-Saharan Africa","Antarctica","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Europe &amp; Central Asia","East Asia &amp; Pacific","Europe &amp; Central Asia","Europe &amp; Central Asia","Latin America &amp; Caribbean","Middle East &amp; North Africa","South Asia","Latin America &amp; Caribbean","Europe &amp; Central Asia","Europe &amp; Central Asia","Latin America &amp; Caribbean","Sub-Saharan Africa","South Asia","Latin America &amp; Caribbean","Europe &amp; Central Asia","Sub-Saharan Africa","Latin America &amp; Caribbean","East Asia &amp; Pacific","Europe &amp; Central Asia","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","East Asia &amp; Pacific","Sub-Saharan Africa","North America","Sub-Saharan Africa","Sub-Saharan Africa","Latin America &amp; Caribbean","East Asia &amp; Pacific","Latin America &amp; Caribbean","Sub-Saharan Africa","Sub-Saharan Africa","Latin America &amp; Caribbean","Europe &amp; Central Asia","Latin America &amp; Caribbean","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Sub-Saharan Africa","Sub-Saharan Africa","Europe &amp; Central Asia","Middle East &amp; North Africa","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Middle East &amp; North Africa","Latin America &amp; Caribbean","Sub-Saharan Africa","Sub-Saharan Africa","Europe &amp; Central Asia","Sub-Saharan Africa","East Asia &amp; Pacific","Europe &amp; Central Asia","Europe &amp; Central Asia","Sub-Saharan Africa","Sub-Saharan Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Sub-Saharan Africa","Europe &amp; Central Asia","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Sub-Saharan Africa","Sub-Saharan Africa","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Europe &amp; Central Asia","Europe &amp; Central Asia","South Asia","East Asia &amp; Pacific","Middle East &amp; North Africa","Middle East &amp; North Africa","Europe &amp; Central Asia","Middle East &amp; North Africa","Europe &amp; Central Asia","Latin America &amp; Caribbean","East Asia &amp; Pacific","Middle East &amp; North Africa","Europe &amp; Central Asia","Sub-Saharan Africa","East Asia &amp; Pacific","Europe &amp; Central Asia","Middle East &amp; North Africa","Europe &amp; Central Asia","East Asia &amp; Pacific","Europe &amp; Central Asia","Middle East &amp; North Africa","Sub-Saharan Africa","Sub-Saharan Africa","Middle East &amp; North Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Sub-Saharan Africa","Sub-Saharan Africa","East Asia &amp; Pacific","South Asia","Sub-Saharan Africa","Middle East &amp; North Africa","East Asia &amp; Pacific","Sub-Saharan Africa","Sub-Saharan Africa","Latin America &amp; Caribbean","East Asia &amp; Pacific","Europe &amp; Central Asia","Europe &amp; Central Asia","East Asia &amp; Pacific","Europe &amp; Central Asia","Middle East &amp; North Africa","Sub-Saharan Africa","East Asia &amp; Pacific","Europe &amp; Central Asia","Sub-Saharan Africa","East Asia &amp; Pacific","South Asia","Europe &amp; Central Asia","East Asia &amp; Pacific","Latin America &amp; Caribbean","Sub-Saharan Africa","Sub-Saharan Africa","East Asia &amp; Pacific","Europe &amp; Central Asia","Europe &amp; Central Asia","Middle East &amp; North Africa","South Asia","East Asia &amp; Pacific","Latin America &amp; Caribbean","East Asia &amp; Pacific","Latin America &amp; Caribbean","Latin America &amp; Caribbean","East Asia &amp; Pacific","Europe &amp; Central Asia","Europe &amp; Central Asia","Middle East &amp; North Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Sub-Saharan Africa","Sub-Saharan Africa","Latin America &amp; Caribbean","East Asia &amp; Pacific","Europe &amp; Central Asia","Middle East &amp; North Africa","Sub-Saharan Africa","Europe &amp; Central Asia","Sub-Saharan Africa","Sub-Saharan Africa","East Asia &amp; Pacific","Europe &amp; Central Asia","Europe &amp; Central Asia","East Asia &amp; Pacific","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","East Asia &amp; Pacific","Europe &amp; Central Asia","South Asia","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Sub-Saharan Africa","Latin America &amp; Caribbean","Europe &amp; Central Asia","Europe &amp; Central Asia","Middle East &amp; North Africa","Sub-Saharan Africa","East Asia &amp; Pacific","Europe &amp; Central Asia","Sub-Saharan Africa","East Asia &amp; Pacific","East Asia &amp; Pacific","Sub-Saharan Africa","East Asia &amp; Pacific","Latin America &amp; Caribbean","Middle East &amp; North Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","East Asia &amp; Pacific","Sub-Saharan Africa","Europe &amp; Central Asia","Middle East &amp; North Africa","Europe &amp; Central Asia","North America","Latin America &amp; Caribbean","Europe &amp; Central Asia","East Asia &amp; Pacific","Europe &amp; Central Asia","Latin America &amp; Caribbean","East Asia &amp; Pacific","Middle East &amp; North Africa","Middle East &amp; North Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa"],["7. Least developed region","6. Developing region","6. Developing region","2. Developed region: nonG7","7. Least developed region","6. Developing region","6. Developing region","5. Emerging region: G20","6. Developing region","2. Developed region: nonG7","2. Developed region: nonG7","6. Developing region","6. Developing region","6. Developing region","7. Least developed region","6. Developing region","6. Developing region","2. Developed region: nonG7","6. Developing region","7. Least developed region","7. Least developed region","5. Emerging region: G20","6. Developing region","6. Developing region","3. Emerging region: BRIC","6. Developing region","2. Developed region: nonG7","7. Least developed region","7. Least developed region","6. Developing region","7. Least developed region","6. Developing region","1. Developed region: G7","7. Least developed region","7. Least developed region","5. Emerging region: G20","3. Emerging region: BRIC","6. Developing region","7. Least developed region","6. Developing region","5. Emerging region: G20","2. Developed region: nonG7","5. Emerging region: G20","6. Developing region","6. Developing region","2. Developed region: nonG7","6. Developing region","7. Least developed region","2. Developed region: nonG7","7. Least developed region","6. Developing region","6. Developing region","6. Developing region","5. Emerging region: G20","6. Developing region","7. Least developed region","7. Least developed region","2. Developed region: nonG7","7. Least developed region","6. Developing region","2. Developed region: nonG7","1. Developed region: G7","6. Developing region","7. Least developed region","6. Developing region","1. Developed region: G7","6. Developing region","2. Developed region: nonG7","6. Developing region","6. Developing region","7. Least developed region","7. Least developed region","6. Developing region","7. Least developed region","6. Developing region","2. Developed region: nonG7","2. Developed region: nonG7","3. Emerging region: BRIC","4. Emerging region: MIKT","5. Emerging region: G20","6. Developing region","2. Developed region: nonG7","2. Developed region: nonG7","1. Developed region: G7","6. Developing region","1. Developed region: G7","6. Developing region","6. Developing region","5. Emerging region: G20","7. Least developed region","6. Developing region","6. Developing region","6. Developing region","7. Least developed region","2. Developed region: nonG7","6. Developing region","7. Least developed region","7. Least developed region","6. Developing region","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","7. Least developed region","7. Least developed region","6. Developing region","6. Developing region","7. Least developed region","2. Developed region: nonG7","6. Developing region","7. Least developed region","6. Developing region","4. Emerging region: MIKT","6. Developing region","6. Developing region","2. Developed region: nonG7","6. Developing region","6. Developing region","6. Developing region","7. Least developed region","7. Least developed region","6. Developing region","6. Developing region","6. Developing region","7. Least developed region","2. Developed region: nonG7","1. Developed region: G7","6. Developing region","7. Least developed region","5. Emerging region: G20","7. Least developed region","6. Developing region","2. Developed region: nonG7","6. Developing region","5. Emerging region: G20","6. Developing region","6. Developing region","6. Developing region","5. Emerging region: G20","5. Emerging region: G20","5. Emerging region: G20","2. Developed region: nonG7","2. Developed region: nonG7","6. Developing region","2. Developed region: nonG7","3. Emerging region: BRIC","7. Least developed region","7. Least developed region","6. Developing region","7. Least developed region","2. Developed region: nonG7","2. Developed region: nonG7","7. Least developed region","6. Developing region","6. Developing region","7. Least developed region","6. Developing region","2. Developed region: nonG7","2. Developed region: nonG7","7. Least developed region","7. Least developed region","6. Developing region","5. Emerging region: G20","4. Emerging region: MIKT","2. Developed region: nonG7","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","2. Developed region: nonG7","2. Developed region: nonG7","6. Developing region","7. Least developed region","2. Developed region: nonG7","6. Developing region","7. Least developed region","5. Emerging region: G20","7. Least developed region","7. Least developed region","6. Developing region","6. Developing region","6. Developing region","4. Emerging region: MIKT","6. Developing region","7. Least developed region","7. Least developed region","6. Developing region","6. Developing region","1. Developed region: G7","1. Developed region: G7","5. Emerging region: G20","6. Developing region","7. Least developed region","2. Developed region: nonG7","5. Emerging region: G20","5. Emerging region: G20","7. Least developed region","7. Least developed region","7. Least developed region","5. Emerging region: G20","6. Developing region"],["5. Low income","4. Lower middle income","3. Upper middle income","2. High income: nonOECD","3. Upper middle income","2. High income: nonOECD","3. Upper middle income","3. Upper middle income","4. Lower middle income","1. High income: OECD","1. High income: OECD","3. Upper middle income","2. High income: nonOECD","2. High income: nonOECD","5. Low income","2. High income: nonOECD","3. Upper middle income","1. High income: OECD","4. Lower middle income","5. Low income","4. Lower middle income","4. Lower middle income","3. Upper middle income","3. Upper middle income","3. Upper middle income","2. High income: nonOECD","3. Upper middle income","5. Low income","5. Low income","4. Lower middle income","5. Low income","4. Lower middle income","1. High income: OECD","5. Low income","5. Low income","3. Upper middle income","3. Upper middle income","3. Upper middle income","5. Low income","4. Lower middle income","3. Upper middle income","2. High income: nonOECD","3. Upper middle income","2. High income: nonOECD","2. High income: nonOECD","1. High income: OECD","4. Lower middle income","5. Low income","1. High income: OECD","4. Lower middle income","3. Upper middle income","3. Upper middle income","3. Upper middle income","4. Lower middle income","4. Lower middle income","2. High income: nonOECD","5. Low income","1. High income: OECD","5. Low income","4. Lower middle income","1. High income: OECD","1. High income: OECD","3. Upper middle income","5. Low income","4. Lower middle income","1. High income: OECD","4. Lower middle income","1. High income: OECD","3. Upper middle income","4. Lower middle income","5. Low income","5. Low income","4. Lower middle income","5. Low income","4. Lower middle income","1. High income: OECD","1. High income: OECD","4. Lower middle income","4. Lower middle income","3. Upper middle income","4. Lower middle income","1. High income: OECD","1. High income: OECD","1. High income: OECD","3. Upper middle income","1. High income: OECD","3. Upper middle income","3. Upper middle income","5. Low income","4. Lower middle income","4. Lower middle income","2. High income: nonOECD","5. Low income","4. Lower middle income","3. Upper middle income","3. Upper middle income","4. Lower middle income","5. Low income","3. Upper middle income","2. High income: nonOECD","3. Upper middle income","1. High income: OECD","5. Low income","5. Low income","3. Upper middle income","3. Upper middle income","5. Low income","2. High income: nonOECD","4. Lower middle income","5. Low income","3. Upper middle income","3. Upper middle income","4. Lower middle income","4. Lower middle income","2. High income: nonOECD","4. Lower middle income","3. Upper middle income","4. Lower middle income","5. Low income","5. Low income","3. Upper middle income","3. Upper middle income","4. Lower middle income","5. Low income","1. High income: OECD","1. High income: OECD","4. Lower middle income","5. Low income","4. Lower middle income","5. Low income","3. Upper middle income","1. High income: OECD","2. High income: nonOECD","4. Lower middle income","3. Upper middle income","3. Upper middle income","4. Lower middle income","4. Lower middle income","3. Upper middle income","4. Lower middle income","1. High income: OECD","1. High income: OECD","2. High income: nonOECD","3. Upper middle income","3. Upper middle income","5. Low income","5. Low income","3. Upper middle income","4. Lower middle income","2. High income: nonOECD","2. High income: nonOECD","4. Lower middle income","3. Upper middle income","3. Upper middle income","5. Low income","2. High income: nonOECD","1. High income: OECD","1. High income: OECD","4. Lower middle income","5. Low income","4. Lower middle income","3. Upper middle income","1. High income: OECD","1. High income: OECD","4. Lower middle income","2. High income: nonOECD","3. Upper middle income","4. Lower middle income","3. Upper middle income","1. High income: OECD","1. High income: OECD","4. Lower middle income","4. Lower middle income","2. High income: nonOECD","5. Low income","5. Low income","3. Upper middle income","4. Lower middle income","5. Low income","4. Lower middle income","2. High income: nonOECD","3. Upper middle income","3. Upper middle income","3. Upper middle income","3. Upper middle income","5. Low income","4. Lower middle income","2. High income: nonOECD","1. High income: OECD","1. High income: OECD","3. Upper middle income","4. Lower middle income","4. Lower middle income","2. High income: nonOECD","3. Upper middle income","4. Lower middle income","5. Low income","4. Lower middle income","4. Lower middle income","5. Low income","4. Lower middle income"],[38041754,2854191,43053054,77142,31825295,4490,97118,44938712,2957731,25368867,8877067,10023318,389482,1641172,163046161,287025,9466856,11484055,390353,11801151,763092,11513100,3301000,2303697,211049527,433285,6975761,20321378,11530580,549935,16486542,25876380,37589262,4745185,15946876,18952038,1405862845,50339443,850886,5380508,5047561,4067500,11333483,1198575,10000,10669709,25716544,86790567,5923456,973560,71808,10738958,17373662,100388073,6453553,1355986,6081196,1326590,112078730,889953,5550198,67692632,2172579,2347706,245246,83132799,30417856,10716322,112003,16604026,12771246,1920922,782766,11263077,9746117,9769949,361313,1366417754,270625568,82913906,39309783,4941444,13738606,60297396,2948279,126264931,10101694,18513930,52573973,117606,1794248,4207083,6456900,7169455,1912789,6855713,2125268,4937374,6777452,38019,2786844,619896,26969307,18628747,31949777,530953,19658031,502653,58791,4525696,1265711,127575529,113815,2657637,38964,3225167,622137,36471769,30366036,54045420,326000,2494530,12581,28608710,17637435,4950828,6545502,23310715,200963599,25666161,2083459,5347896,4974986,216565318,18008,4246439,8776109,7044636,32510453,108116615,37970874,10269417,2832067,19356544,144373535,12626950,11062113,182790,197097,33860,34268528,16296364,6944975,97625,7813215,5703569,5454073,2087946,669823,10192317.3,5096159,58558270,51709098,47076781,21803000,52834,110589,42813238,581363,10285453,8574832,17070135,215056,23568378,9321018,58005463,69625582,1293119,8082366,104494,1394973,11694719,83429615,5942089,11646,44269594,44385155,9770529,67366465,331595460,3461734,33580650,299882,825,28515829,96462106,603253,29161922,17861030,14645468,1148130],[19291,15279,171091,3154,88815,898,1661,445445,13672,1396634,445075,48047,13578,38574,302571,5209,63080,533097,1879,14390,2530,40895,20164,18340,1839758,13469,68558,15990,3012,1981,27089,39007,1736425,2220,11314,282318,14762473,323615,1165,12267,61801,60752,100023,24948,280,250680,58539,50400,356271,3324,582,88941,107435,303092,27022,11026,2065,31471,95912,5496,225700,2732886,16874,1826,500,3861123,66983,209852,1210,76710,12296,1339,5173,14332,25095,163469,24188,2868929,1119190,453996,234094,388698,410928,2003576,16458,5081769,44502,181665,95503,194,7926,134628,8454,18173,34102,51991,2376,3070,52091,6876,54627,71104,14114,7666,364681,5642,17279,14989,221,7600,14048,1268870,401,11968,7188,13996,5542,119700,15291,76085,3600,12366,118,30641,914392,207302,12520,12911,448120,40000,12547,403336,76331,278221,268,66800,24829,38145,226848,376795,595858,238785,175837,250077,1699876,10354,11998,2122,852,1655,792966,23578,51475,1703,4121,372062,105079,54174,1589,4719,17836,351431,1646739,1393490,84008,1053,824,30513,3697,530883,703082,98830,418,1127000,8116,63177,543548,2017,5490,512,24269,38796,761425,40761,47,35165,153781,421142,2863166,21542705,56045,57921,934,-99,482359,261921,907,22581,23309,21440,4471],[62.879,76.833,77.129,null,61.929,null,79.236,76.06399999999999,73.372,83.2,81.0926829268293,73.488,74.358,79.246,73.69799999999999,77.706,73.1114634146342,81.6975609756098,70.962,59.954,72.229,64.928,75.29300000000001,65.913,73.425,74.551,74.3609756097561,59.766,61.977,74.72199999999999,69.896,60.958,81.2956097560976,54.477,52.997,79.51900000000001,78.587,73.65900000000001,63.68,63.053,77.31999999999999,77.57560975609761,78.155,81.889,81.889,79.0292682926829,58.916,59.743,81.30487804878049,62.859,72.98099999999999,74.17,77.89400000000001,70.15900000000001,71.47499999999999,61.19,66.604,77.9439024390244,65.645,68.312,81.18780487804879,82.2292682926829,65.694,62.906,71.587,80.7056097560976,63.945,80.6365853658537,75.33499999999999,68.67400000000001,58.985,59.861,65.989,63.728,70.72799999999999,76.01707317073171,82.1707317073171,67.744,68.25,74.556,71.336,83.0560975609756,82.7,82.90000000000001,70.629,83.99634146341459,74.215,74.44,62.055,67.661,75.48219512195119,80.264,72.0487804878049,68.999,74.580487804878,74.416,53.036,61.1,72.151,84.319512195122,75.7926829268293,83.04634146341461,65.23,62.898,76.26000000000001,80.839,59.417,82.7,65.146,64.691,73.51463414634151,74.83199999999999,70.925,68.621,null,72.667,76.18780487804879,74.973,59.625,67.256,81.889,58.059,64.014,70.48399999999999,81.7146341463415,82.7609756097561,74.61499999999999,62.08,53.633,73.578,74.4248780487805,82.5609756097561,73.935,66.431,null,76.82599999999999,null,70.47499999999999,73.38500000000001,72.187,77.30487804878049,null,81.559,75.30487804878049,72.5456097560976,67.129,55.567,71.294,72.598,null,77.905,67.913,75.48219512195119,73.8487804878049,60.411,82.89512195121949,77.0658536585366,81.28292682926831,70.742,56.107,56.107,61.48,82.6804878048781,83.0829268292683,76.61,72.027,68.97199999999999,null,70.289,83.109756097561,83.45365853658539,72.3,68.794,null,71.288,66.782,79.68000000000001,69.056,61.588,71.27,74.708,74.26300000000001,78.47499999999999,69.41,64.854,63.638,68.5879268292683,79.196,82.0585365853659,77.4341463414634,78,71.67400000000001,70.492,null,71.105,74.58,null,63.72,61.803,59.391,56.36],[507.1006978279708,5353.180638576746,3973.957341098264,40885.63947006818,2790.704689461638,200000,17102.90574352849,9912.277859676977,4622.46228612406,55053.06957539728,50137.61865264732,4793.522464317704,34861.68808828136,23503.93499279783,1855.738265435149,18148.24492640014,6663.247016749806,46420.6240739878,4813.591800242345,1219.372584928368,3315.458686501759,3552.040718833329,6108.451984247198,7961.116414181205,8717.18608495152,31085.77495182155,9828.031665649096,786.8560882042547,261.2184296019801,3602.243901552002,1643.097746028245,1507.436511598608,46194.70847818188,467.8426657759392,709.4806531385834,14896.44543768855,10500.64951392894,6428.656749340671,1369.161086208963,2279.8962477149,12243.73514257678,14935.9557467732,8825.442275777004,20814.71747700395,28000,23494.5489141269,2276.31675547072,580.708269828448,60145.80001944811,3414.273388389006,8104.946524064171,8282.088448432334,6183.785548492885,3019.203287227159,4187.150860928856,8131.352388593982,339.5713606336648,23723.23023692324,855.7555925196511,6175.607026438475,40665.21590761266,40371.98612693919,7766.806178279363,777.7805227741463,2038.769235787739,46445.2423886269,2202.094716997805,19582.46495392729,10803.28205494496,4619.963856958548,962.7878125595576,697.0610987848544,6608.61611260581,1272.476428954539,2574.871612971607,16731.81712616924,66944.72659439323,2099.598743943135,4135.566377822808,5475.510947463988,5955.107918046762,78660.81250743709,29910.45816438727,33228.23426736372,5582.239672703974,40246.87583284705,4405.399728006016,9812.341301927792,1816.545232371919,1649.57570191997,4417.449538748267,32000.31946125142,1309.297031083027,2534.781235114803,17828.41703920297,7583.602172377986,1117.976650474199,621.788019299328,7685.926805531046,180856.9399510771,19601.74304697357,114703.1114896692,523.3356570860349,411.5145264466794,11414.19547310142,10626.17595154373,878.9791815874133,29819.77626712662,3759.07877056012,1679.29971434228,11098.90014387171,9946.029696651309,3523.261433027281,4503.248562538827,184477.9796735448,4339.620242920754,8908.005792936283,3281.990517103791,503.5560123817281,1407.797367473506,11042.94478527607,4957.246455244074,9379.222637310229,1071.037456774528,51843.81969373664,41872.18784413436,1912.763910239428,553.8654648731281,2229.856562232447,1558.472262369117,6022.196741092577,75419.56687265422,15342.95774902683,1284.69785729957,14882.27454464682,15730.82764170167,2829.158115515657,5414.758122350111,6977.694220378904,3485.079513449436,15692.5015737062,23252.05023810018,62087.86727150169,12919.50670532922,11774.15237494878,819.9921596268299,1084.602914470319,11608.95016138738,4322.744638426764,48877.73183697578,23139.77419747939,1446.825807278237,7411.833735902577,17444.30217669654,527.439728716028,65233.18995527187,19266.15210320801,25946.07331798811,2372.268494811316,462.995789976044,3499.890800110436,6001.389726848146,31846.21398733353,29600.36711091185,3853.047745723065,19930.34788204565,7451.012306829793,712.7001232656124,6359.193825544453,51614.93616275336,81993.67637756634,5789.643725723317,1943.679785730228,47818.30977082937,870.7203440654229,1089.156033458435,7806.728279844037,1559.794574203921,679.2565444326575,4899.802859494325,17397.46934170052,3317.394800165784,9126.555360467622,6859.708765721954,4035.720419027993,794.3375310828466,3464.694445699243,43103.29563527215,42501.35434596428,64966.82735041065,16189.86323039263,1724.832604490979,3114.558392967901,-120000,16915.48227477448,2715.273498175542,1503.515108917817,774.3316781383614,1305.019923263104,1463.934098930809,3894.158327018718]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>ADM0_ISO<\/th>\n      <th>NAME<\/th>\n      <th>CONTINENT<\/th>\n      <th>REGION_UN<\/th>\n      <th>SUBREGION<\/th>\n      <th>REGION_WB<\/th>\n      <th>ECONOMY<\/th>\n      <th>INCOME_GRP<\/th>\n      <th>POP_EST<\/th>\n      <th>GDP_MD<\/th>\n      <th>LIFE_EXPECTANCY<\/th>\n      <th>GDP_PC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLenght":10,"language":{"url":"//cdn.datatables.net/plug-ins/1.10.11/i18n/Spanish.json"},"columnDefs":[{"className":"dt-right","targets":[9,10,11,12]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"ADM0_ISO","targets":1},{"name":"NAME","targets":2},{"name":"CONTINENT","targets":3},{"name":"REGION_UN","targets":4},{"name":"SUBREGION","targets":5},{"name":"REGION_WB","targets":6},{"name":"ECONOMY","targets":7},{"name":"INCOME_GRP","targets":8},{"name":"POP_EST","targets":9},{"name":"GDP_MD","targets":10},{"name":"LIFE_EXPECTANCY","targets":11},{"name":"GDP_PC","targets":12}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="gráficos-con-ggplot2" class="level2">
<h2 class="anchored" data-anchor-id="gráficos-con-ggplot2">Gráficos con ggplot2</h2>
<section id="gráficos-básicos" class="level3">
<h3 class="anchored" data-anchor-id="gráficos-básicos">Gráficos básicos</h3>
<section id="gráficos-de-dispersión-de-pib-per-cápita-vs-esperanza-de-vida-al-nacer" class="level4">
<h4 class="anchored" data-anchor-id="gráficos-de-dispersión-de-pib-per-cápita-vs-esperanza-de-vida-al-nacer">Gráficos de dispersión de PIB per cápita vs esperanza de vida al nacer</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY)) <span class="sc">+</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/ggplot2-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> INCOME_GRP)) <span class="sc">+</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/ggplot2-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">shape =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/ggplot2-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># con formas y colores correspondientes al continente</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">shape =</span> CONTINENT, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span>, <span class="st">"purple"</span>, <span class="st">"orange"</span>, <span class="st">"brown"</span>, <span class="st">"pink"</span>, <span class="st">"yellow"</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/ggplot2-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># con tamaño de puntos correspondiente a la población</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">size =</span> POP_EST, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/ggplot4-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># + curva de tendencia</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY)) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">'loess'</span>, <span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/ggplot4-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># en África y Europa coloreado por continente</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># + curva de tendencia</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CONTINENT <span class="sc">==</span> <span class="st">'Africa'</span> <span class="sc">|</span> CONTINENT <span class="sc">==</span> <span class="st">'Europe'</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># geom_point() +</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/ggplot2-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">y =</span> bill_length_mm, <span class="at">color =</span> island, <span class="at">size =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/ggplo2-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="facets" class="level2">
<h2 class="anchored" data-anchor-id="facets">Facets</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># + paneles por continente</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY)) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> SUBREGION, <span class="at">nrow =</span> <span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/ggplot2-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>